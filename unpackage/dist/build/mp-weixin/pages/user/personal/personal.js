(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/personal/personal"],{"41a9":function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return o})),t.d(a,"a",(function(){return n}));var n={uField:function(){return t.e("uview-ui/components/u-field/u-field").then(t.bind(null,"fb1c"))},uSelect:function(){return t.e("uview-ui/components/u-select/u-select").then(t.bind(null,"1ce0"))}},i=function(){var e=this,a=e.$createElement;e._self._c},o=[]},"4c70":function(e,a,t){},"53ba":function(e,a,t){"use strict";(function(e){t("d774");n(t("66fd"));var a=n(t("917b"));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("543d")["createPage"])},"742a":function(e,a,t){"use strict";t.r(a);var n=t("76cb"),i=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(a,e,(function(){return n[e]}))}(o);a["default"]=i.a},"76cb":function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("78ac")),i=o(t("597d"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){t.e("components/sub-unit/subunit").then(function(){return resolve(t("e864"))}.bind(null,t)).catch(t.oe)},u={name:"",components:{subunit:s},props:{},data:function(){return{image:"",parameter:[{value:"",label:"昵称"},{value:"",label:"性别",disabled:!0},{value:"预览",label:"正面免冠照",disabled:!0},{value:"",label:"真实姓名",disabled:!0},{value:"",label:"手机号码",disabled:!0},{value:"",label:"身份证号码",disabled:!0}],show:!1,list:[{value:"1",label:"男"},{value:"2",label:"女"}],sex:"",flag:!1,faceimg:"",value:[],isLoding:!1}},methods:{goback:function(){e.navigateBack({delta:1})},UploadAvatar:function(){var a=this;e.chooseImage({success:function(t){a.isLoding=!0;var n=t.tempFilePaths;0!=n.length&&e.uploadFile({url:i.default.services.file.upload,filePath:n[0],name:"file",success:function(t){if(a.isLoding=!1,200==t.statusCode){var n=JSON.parse(t.data);200==n.code?(e.showToast({title:"上传成功",icon:"none"}),a.image=n.data.url,a.flag=!1):e.showToast({title:n.msg,icon:"none"})}else e.showToast({title:"网络请求出错",icon:"none"})}})}})},xuaz:function(a){if(1==a){this.show=!0;var t=this.parameter[1].value;"男"==t&&(this.value=[0]),"女"==t&&(this.value=[1])}2==a&&e.navigateTo({url:"/components/idPhoto/idPhoto/idPhoto?photo=".concat(this.faceimg)})},ok:function(e){this.parameter[1].value=e[0].label,this.sex=e[0].value,2==this.sex&&1==this.flag&&(this.image="https://oss.kuaitongkeji.com/static/img/avatar/female_64.png")},Submit:function(){var a=this;if(1!=this.isLoding){e.showLoading({title:"提交中..."});var t=this.parameter[0].value;n.default.userupdate({data:{nickname:t,avatar:this.image,sex:this.sex},fail:function(a){e.hideLoading(),e.showToast({title:"网络错误",icon:"none"})},success:function(t){e.hideLoading(),200==t.statusCode?200==t.data.code?e.showToast({title:t.data.msg,duration:2e3}):a.$refs.uToast.show({title:t.data.msg,type:"error",icon:!1}):e.showToast({title:"网络请求出错",icon:"none"})}})}},UserData:function(){var a=this;e.showLoading({title:"加载中..."}),n.default.userDeta({fail:function(a){e.hideLoading(),e.showToast({title:"网络错误",icon:"none"})},success:function(t){if(e.hideLoading(),200==t.statusCode)if(200==t.data.code){var n=t.data.data;"https://oss.kuaitongkeji.com/static/img/avatar/male_64.png"==n.avatar&&(a.flag=!0),a.faceimg=n.faceimg,a.image=n.avatar,a.parameter[0].value=n.nickname,1==n.sex&&(a.parameter[1].value="男"),2==n.sex&&(a.parameter[1].value="女"),a.parameter[3].value=n.username,a.parameter[4].value=n.tel.slice(0,3)+"****"+n.tel.slice(7,11),n.id_card_no&&(a.parameter[5].value=n.id_card_no.slice(0,3)+"**********"+n.id_card_no.slice(n.id_card_no.length-4,n.id_card_no.length))}else e.showToast({title:t.data.msg,icon:"none"});else e.showToast({title:"网络请求出错",icon:"none"})}})}},mounted:function(){},onLoad:function(e){},onShow:function(){this.UserData()},filters:{},computed:{},watch:{},directives:{}};a.default=u}).call(this,t("543d")["default"])},"917b":function(e,a,t){"use strict";t.r(a);var n=t("41a9"),i=t("742a");for(var o in i)"default"!==o&&function(e){t.d(a,e,(function(){return i[e]}))}(o);t("d19d");var s,u=t("f0c5"),l=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"124c3789",null,!1,n["a"],s);a["default"]=l.exports},d19d:function(e,a,t){"use strict";var n=t("4c70"),i=t.n(n);i.a}},[["53ba","common/runtime","common/vendor"]]]);