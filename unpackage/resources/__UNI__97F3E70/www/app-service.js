(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0de9":function(e,t,n){"use strict";function i(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function r(){return"string"===typeof __channelId__&&__channelId__}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e].apply(console,n)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.shift();if(r())return t.push(t.pop().replace("at ","uni-app:///")),console[o].apply(console,t);var a=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e)+"---END:JSON---"}catch(r){e="[object object]"}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=i(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),u="";if(a.length>1){var c=a.pop();u=a.join("---COMMA---"),0===c.indexOf(" at ")?u+=c:u+="---COMMA---"+c}else u=a[0];console[o](u)}n.r(t),n.d(t,"log",(function(){return o})),n.d(t,"default",(function(){return a}))},"268b":function(e,t,n){"use strict";n.r(t);var i=n("efc2"),r=n("4e25");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var a,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);t["default"]=c.exports},"3dff":function(e,t,n){"use strict";var i=o(n("597d")),r=o(n("a11d"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var s=function(){function e(){a(this,e)}return c(e,[{key:"userLoginCode",value:function(e){e.url=i.default.services.sms.userLoginCode,r.default.post(e)}}]),e}();e.exports=new s},4092:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n("9381")),i(n("de14")),i(n("a11d"));function i(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{title:"Hello",nickname:"Tom"}},onLoad:function(){},methods:{sayHello:function(){}}};t.default=r},"4e25":function(e,t,n){"use strict";n.r(t);var i=n("55c6"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},"55c6":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("3dff")),r=o(n("bd56"));function o(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{smsText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",smsCode:"",isGetingSmsCode:!1,countDown:10,tel:"",nextGetSmsCodeSec:0,isReqLogin:!1}},methods:{login:function(t){var n=this;this.isReqLogin;var i=t.detail.value;r.default.login({data:i,fail:function(){n.isReqLogin=!1},success:function(t){n.isReqLogin=!1,e("log","login res",t," at pages/auth/login/login.vue:50")}})},getSmsCode:function(){var e=this;if(1!=this.isGetingSmsCode&&!(this.nextGetSmsCodeSec>0)){var t=this;if(this.tel.length<11)uni.showToast({title:"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",icon:"none"});else if(this.tel.match(/^1\d{10}$/i)){this.isGetingSmsCode=!0;var n=this.tel;i.default.userLoginCode({data:{tel:n},fail:function(){e.isGetingSmsCode=!1},success:function(n){e.isGetingSmsCode=!1,200==n.statusCode&&200==n.data.code&&(t.smsCode=n.data.data.code,t.countDownTimer())}})}else uni.showToast({title:"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",icon:"none"})}},countDownTimer:function(){var e=this;0===this.nextGetSmsCodeSec&&(this.nextGetSmsCodeSec=this.countDown);var t=this,n=setInterval((function(){t.nextGetSmsCodeSec--,e.smsText=t.nextGetSmsCodeSec+"s",t.nextGetSmsCodeSec<=0&&(e.smsText="\u83b7\u53d6\u9a8c\u8bc1\u7801",clearInterval(n))}),1e3)},setTel:function(e){this.tel=e.detail.value}}};t.default=a}).call(this,n("0de9")["default"])},"597d":function(e,t){var n="http://local.kt.cn/",i=n+"api/";e.exports={host:n,client:{reg:i+"app/client",version:{latest:i+"app/version/latest"}},services:{sms:{userLoginCode:n+"services/sms/loginCode"}},user:{auth:{login:i+"user/user/login"}}}},6350:function(e,t,n){"use strict";(function(t){var i=a(n("9381")),r=a(n("597d")),o=(a(n("99e2")),a(n("d37d")));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(){u(this,e),l(this,"clientId",""),l(this,"secret",""),l(this,"clientType",0),l(this,"clientInfo",null),l(this,"cacheKey","clientInfo"),l(this,"version","1.0.1"),l(this,"CLIENT_TYPE_UNKNOWN",0),l(this,"CLIENT_TYPE_ANDROID",1),l(this,"CLIENT_TYPE_IOS",2),l(this,"CLIENT_TYPE_H5",3),this.fixCurrClientType(),this.createOrUpdate(),this.askUpdateClient()}return s(e,[{key:"fixCurrClientType",value:function(){var e=uni.getSystemInfoSync().platform;switch(e){case"android":this.clientType=this.CLIENT_TYPE_ANDROID;break;case"ios":this.clientType=this.CLIENT_TYPE_IOS;break;case"other":this.clientType=this.CLIENT_TYPE_UNKNOWN;break;default:this.clientType=this.CLIENT_TYPE_UNKNOWN;break}}},{key:"loadFromCache",value:function(){var e=i.default.get(this.cacheKey);return e?(this.clientInfo=e,this.clientId=e.client_id,this.secret=e.secret,this.clientInfo):null}},{key:"createOrUpdate",value:function(){this.loadFromCache();this.clientInfo?this.update():this.create()}},{key:"create",value:function(){var e=this;uni.request({url:r.default.client.reg,method:"POST",header:{"client-type":e.clientType,"client-version":e.version},data:{sys_info:uni.getSystemInfoSync()},fail:function(){uni.showModal({content:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",showCancel:!1})},success:function(t){if(200==t.statusCode)if(200==t.data.code){var n=t.data.data;e.clientInfo=n,e.clientId=n.client_id,e.secret=n.secret,i.default.set(e.cacheKey,n)}else uni.showModal({content:"\u521d\u59cb\u5316\u51fa\u9519,errMsg:"+t.data.msg,showCancel:!1});else uni.showModal({content:"\u521d\u59cb\u5316\u51fa\u9519\uff0c\u8bf7\u91cd\u542f",showCancel:!1})}})}},{key:"update",value:function(){var e=this;uni.request({url:r.default.client.reg,method:"POST",header:{"client-type":e.clientType,"client-version":e.version,"client-id":e.clientId,"client-secret":e.secret},data:{_method:"patch",sys_info:uni.getSystemInfoSync()},fail:function(){uni.showModal({content:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",showCancel:!1})},success:function(e){200==e.statusCode&&e.data.code}})}},{key:"getClientId",value:function(){return this.clientId}},{key:"getClientType",value:function(){return this.clientType}},{key:"getLatestVersion",value:function(e){e.url=r.default.client.version.latest,void 0===e.header&&(e.header={}),e.header["client-id"]=this.getClientId(),e.header["client-version"]=this.version,e.header["client-type"]=this.getClientType(),uni.request(e)}},{key:"askUpdateClient",value:function(){var e=this;this.getLatestVersion({success:function(n){var i=n.data.data.app_android_latest_version,r=o.default.diffVersion(e.version,i);-1==r&&uni.showModal({content:"\u6709\u7248\u672c\u66f4\u65b0",confirmText:"\u66f4\u65b0",success:function(e){1==e.confirm&&t("log","do update action"," at vendor/clients/clients.js:195")}})}})}}]),e}();e.exports=new f}).call(this,n("0de9")["default"])},"6c50":function(e,t,n){"use strict";n.r(t);var i=n("c9e7");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a,u,c,s=n("f0c5"),l=Object(s["a"])(i["default"],o,a,!1,null,null,null,!1,u,c);t["default"]=l.exports},"6eaa":function(e,t,n){"use strict";n("d774");var i=o(n("8bbf")),r=o(n("6c50"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default.config.productionTip=!1,r.default.mpType="app";var s=new i.default(u({},r.default));s.$mount()},8031:function(e,t,n){"use strict";(function(t){var i=o(n("de14")),r=o(n("9381"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){a(this,e),s(this,"token",""),s(this,"tokenExp",0),s(this,"cacheTokenKey","jwt"),this.reload()}return c(e,[{key:"reload",value:function(){var e=r.default.getWithExp(this.cacheTokenKey);t("log","jwt reload:tokenInfo:",e," at vendor/auth/jwt.js:19"),null!=e&&(this.token=e.value,this.tokenExp=e.exp)}},{key:"getToken",value:function(){return this.tokenExp<=i.default.now().getCurrMSeconds()-10?"":this.token}},{key:"setToken",value:function(e,t){this.token=e,this.tokenExp=t,r.default.set(this.cacheTokenKey,e,t)}}]),e}();e.exports=new l}).call(this,n("0de9")["default"])},"8bbf":function(e,t){e.exports=Vue},9381:function(e,t,n){"use strict";var i=o(n("99e2")),r=o(n("a1e4"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){a(this,e),s(this,"cachePrefix","cache:")}return c(e,[{key:"set",value:function(e,t,n){void 0===n&&(n=null),uni.setStorageSync(this.cachePrefix+e,{exp:null,value:t})}},{key:"get",value:function(e,t){var n=uni.getStorageSync(this.cachePrefix+e);if(void 0===t&&(t=null),!n)return t;if(!i.default.isObj(n))return t;var o=r.default.get(n,"exp");return null===o?n.value:o<dater.now().getCurrMSeconds()?t:r.default.get(n,"value",t)}},{key:"getWithExp",value:function(e){var t=this.cachePrefix+e,n=uni.getStorageSync(t);if(!n)return null;var i=r.default.get(n,"exp");return null===i||i>dater.now().getCurrMSeconds()?n:null}}]),e}();e.exports=new l},"99e2":function(e,t){e.exports={isFunc:function(e){return"function"==typeof e},isObj:function(e){return"object"==typeof e},doIfIsFunc:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.isFunc(e)&&e.apply(void 0,n)}}},a11d:function(e,t,n){"use strict";var i=o(n("8031")),r=o(n("6350"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var s=function(){function e(){a(this,e)}return c(e,[{key:"appendHeader",value:function(e){void 0===e.header&&(e.header={}),e.header["Authorization"]=i.default.getToken(),e.header["client-id"]=r.default.getClientId(),e.header["client-version"]=r.default.version,e.header["client-type"]=r.default.getClientType()}},{key:"get",value:function(e){this.appendHeader(e),e.method="GET",uni.request(e)}},{key:"post",value:function(e){this.appendHeader(e),e.method="POST",uni.request(e)}},{key:"patch",value:function(e){this.appendHeader(e),e.method="PUT",uni.request(e)}},{key:"delete",value:function(e){this.appendHeader(e),e.method="DELETE",uni.request(e)}}]),e}();e.exports=new s},a1e4:function(e,t){e.exports={get:function(e,t,n){return void 0===n&&(n=null),"object"!=typeof e?null:void 0===e[t]?n:e[t]}}},b3e2:function(e,t,n){"use strict";n.r(t);var i=n("4092"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},bd56:function(e,t,n){"use strict";var i=o(n("597d")),r=o(n("a11d"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){a(this,e),s(this,"loginSuccessCallbackTask",[])}return c(e,[{key:"login",value:function(e){e.url=i.default.user.auth.login,r.default.post(e)}}]),e}();e.exports=new l},c9e7:function(e,t,n){"use strict";n.r(t);var i=n("cd91"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},cd91:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:7")},onHide:function(){e("log","App Hide"," at App.vue:10")}};t.default=n}).call(this,n("0de9")["default"])},d37d:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o=function(){"use strict";function e(){n(this,e)}return r(e,[{key:"diffVersion",value:function(e,t){var n=e.split(".",3),i=t.split(".",3);for(var r in n){var o=this.diffNum(parseInt(n[r]),parseInt(i[r]));if(0!=o)return o}return 0}},{key:"diffNum",value:function(e,t){return e>t?1:e==t?0:-1}}]),e}();e.exports=new o},d774:function(e,t,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("deab").default)})),__definePage("pages/auth/login/login",(function(){return Vue.extend(n("268b").default)}))},de14:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o=null,a=function(){"use strict";function e(){n(this,e)}return r(e,[{key:"now",value:function(){return o=new Date,new e}},{key:"getCurrMSeconds",value:function(){return o.getTime()}}]),e}();e.exports=new a},deab:function(e,t,n){"use strict";n.r(t);var i=n("e066"),r=n("b3e2");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var a,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);t["default"]=c.exports},e066:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0}},[n("image",{staticClass:e._$s(1,"sc","logo"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","text-area"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","title"),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.title)))]),n("text",{attrs:{_i:4},on:{click:e.sayHello}},[e._v(e._$s(4,"t0-0",e._s(e.nickname)))])]),n("navigator",{})])},o=[]},efc2:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","login"),attrs:{_i:0}},[n("form",{attrs:{_i:1},on:{submit:e.login,reset:function(e){}}},[n("input",{attrs:{_i:2},on:{input:e.setTel}}),n("view",[n("input",{attrs:{value:e._$s(4,"a-value",e.smsCode),_i:4}})]),n("view",{staticClass:e._$s(5,"sc","getSmsCode"),attrs:{_i:5},on:{click:e.getSmsCode}},[e._v(e._$s(5,"t0-0",e._s(e.smsText)))]),n("button",{}),n("button",{})])])},o=[]},f0c5:function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,u,c,s){var l,f="function"===typeof e?e.options:e;if(c){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var p in c)d.call(c,p)&&!d.call(f.components,p)&&(f.components[p]=c[p])}if(s&&((s.beforeCreate||(s.beforeCreate=[])).unshift((function(){this[s.__module]=this})),(f.mixins||(f.mixins=[])).push(s)),t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),i&&(f.functional=!0),o&&(f._scopeId="data-v-"+o),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},f._ssrRegister=l):r&&(l=u?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(f.functional){f._injectStyles=l;var h=f.render;f.render=function(e,t){return l.call(t),h(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,l):[l]}return{exports:e,options:f}}n.d(t,"a",(function(){return i}))}},[["6eaa","app-config"]]]);